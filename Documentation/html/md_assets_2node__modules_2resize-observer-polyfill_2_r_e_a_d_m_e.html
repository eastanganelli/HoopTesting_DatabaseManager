<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DatabaseManager: ResizeObserver Polyfill</title>
<link rel="icon" href="icon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DatabaseManager<span id="projectnumber">&#160;1.0.5</span>
   </div>
   <div id="projectbrief">Database Manager Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_assets_2node__modules_2resize-observer-polyfill_2_r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ResizeObserver Polyfill</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/que-etc/resize-observer-polyfill"><img src="https://travis-ci.org/que-etc/resize-observer-polyfill.svg?branch=master" alt="Build Status" style="pointer-events: none;" class="inline"/></a></p>
<p>A polyfill for the Resize Observer API.</p>
<p>Implementation is based on the MutationObserver and uses Mutation Events as a fall back if the first one is not supported, so there will be no polling unless DOM changes. Doesn't modify observed elements. Handles CSS transitions/animations and can possibly observe changes caused by dynamic CSS pseudo-classes, e.g. by <code>:hover</code>.</p>
<p>Follows the <a href="http://rawgit.com/WICG/ResizeObserver/master/index.html">spec</a> and the native implementation. The size is <em>2.44 KiB</em> when minified and gzipped.</p>
<p><a href="http://que-etc.github.io/resize-observer-polyfill">Live demo</a> (has style problems in IE10 and lower).</p>
<h1><a class="anchor" id="autotoc_md7881"></a>
Installation</h1>
<p>From NPM:</p>
<div class="fragment"><div class="line">npm install resize-observer-polyfill --save-dev</div>
</div><!-- fragment --><p><strike>From Bower:</strike> (will be removed with the next major release)</p>
<div class="fragment"><div class="line">bower install resize-observer-polyfill --save-dev</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7882"></a>
Browser Support</h1>
<p>Polyfill has been tested in the following browsers:</p>
<p><a href="https://saucelabs.com/beta/builds/303f5344a7214ba5b62bc7079a15d376"><img src="https://saucelabs.com/browser-matrix/que-etc.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a></p>
<p><b>NOTE:</b> Internet Explorer 8 and its earlier versions are not supported.</p>
<h1><a class="anchor" id="autotoc_md7883"></a>
Usage Example</h1>
<p>It's recommended to use this library in the form of a <a href="https://github.com/sindresorhus/ponyfill">ponyfill</a>, which doesn't inflict modifications of the global object.</p>
<div class="fragment"><div class="line">import ResizeObserver from &#39;resize-observer-polyfill&#39;;</div>
<div class="line"> </div>
<div class="line">const ro = new ResizeObserver((entries, observer) =&gt; {</div>
<div class="line">    for (const entry of entries) {</div>
<div class="line">        const {left, top, width, height} = entry.contentRect;</div>
<div class="line"> </div>
<div class="line">        console.log(&#39;Element:&#39;, entry.target);</div>
<div class="line">        console.log(`Element&#39;s size: ${ width }px x ${ height }px`);</div>
<div class="line">        console.log(`Element&#39;s paddings: ${ top }px ; ${ left }px`);</div>
<div class="line">    }</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">ro.observe(document.body);</div>
</div><!-- fragment --><p>Package's main file is a ES5 <a href="https://github.com/umdjs/umd">UMD</a> bundle that will be swapped with the ES6 modules version for those bundlers that are aware of the <a href="https://github.com/rollup/rollup/wiki/pkg.module">module</a> field, e.g. for <a href="https://github.com/rollup/rollup">Rollup</a> or webpack 2+.</p>
<p><b>Note</b>: global version of the polyfill (<code>dist/ResizeObserver.global</code>) is deprecated and will be removed in the next major release.</p>
<h1><a class="anchor" id="autotoc_md7884"></a>
Observation Strategy</h1>
<p>As mentioned above, this implementation primarily (but not solely) relies on Mutation Observer with a fallback to Mutation Events for IE 9 and IE 10.</p>
<p>Speaking of Mutation Events as a fallback approach: they might not be as ugly as they are being rendered, particularly when their calls are batched, throttled and there is no need to analyze changes. Given that, they won't interrupt browser's reflow/repaint cycles (same for MutationObserver) and may even outperform Internet Explorer's implementation of MO causing little to no performance degradation. In contemporary browsers (Chrome, Firefox, etc.) Mutation Observer slows down <a href="https://jsfiddle.net/que_etc/gaqLe8rn/">the suite</a> that includes 200 iterations of adding/removing elements, changing attributes and modifying text data by less than 1%. Internet Explorer gives different results with MO slowing down the same suite by 2-3% while Mutation Events show the difference of ~0.6%.</p>
<p>As for the reasons why other approaches, namely the iframe/object and <code>scroll</code> strategies, were ruled out:</p><ul>
<li>They require the observed element to be non-statically positioned.</li>
<li>You can't apply them directly to quite a number of elements: <code>&lt;img&gt;</code>, <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, <code>&lt;canvas&gt;</code>, <code>&lt;tr&gt;</code>, <code>&lt;tbody&gt;</code>, <code>&lt;thead&gt;</code>, <code>&lt;table&gt;</code>, etc. For most of them you would need to keep an extra <code>&lt;div&gt;</code> wrapper and almost all instances of the SVGGraphicsElement will be out of scope.</li>
<li>The ResizeObserver spec requires to deliver notifications when a non-empty visible element becomes hidden, i.e. when either this element directly or one of its parent nodes receive the <code>display: none</code> state. Same goes for when it's being removed from or added to the DOM. It's not possible to handle these cases merely by using former approaches, so you'd still need to either subscribe for DOM mutations or to continuously check the element's state.</li>
</ul>
<p>And though every approach has its own limitations, I reckon that it'd be too much of a trade-off to have those constraints when building a polyfill.</p>
<h1><a class="anchor" id="autotoc_md7885"></a>
Limitations</h1>
<ul>
<li>Notifications are delivered ~20ms after actual changes happen.</li>
<li>Changes caused by dynamic pseudo-classes, e.g. <code>:hover</code> and <code>:focus</code>, are not tracked. As a workaround you could add a short transition which would trigger the <code>transitionend</code> event when an element receives one of the former classes (<a href="https://jsfiddle.net/que_etc/7fudzqng/">example</a>).</li>
<li>Delayed transitions will receive only one notification with the latest dimensions of an element.</li>
</ul>
<h1><a class="anchor" id="autotoc_md7886"></a>
Building and Testing</h1>
<p>To build polyfill. Creates UMD bundle in the <code>dist</code> folder:</p>
<div class="fragment"><div class="line">npm run build</div>
</div><!-- fragment --><p>To run a code style test: </p><div class="fragment"><div class="line">npm run test:lint</div>
</div><!-- fragment --><p>Running unit tests: </p><div class="fragment"><div class="line">npm run test:spec</div>
</div><!-- fragment --><p>To test in a browser that is not present in karma's config file: </p><div class="fragment"><div class="line">npm run test:spec:custom</div>
</div><!-- fragment --><p>Testing against a native implementation: </p><div class="fragment"><div class="line">npm run test:spec:native</div>
</div><!-- fragment --><p><b>NOTE:</b> after you invoke <code>spec:native</code> and <code>spec:custom</code> commands head to the <code><a href="http://localhost:9876/debug.html">http://localhost:9876/debug.html</a></code> page. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
